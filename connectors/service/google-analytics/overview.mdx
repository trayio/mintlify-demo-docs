---
title: "Overview"
description: "Overview of the Google Analytics connector"
---

# Overview

## Overview

Google Analytics is a web analytics service offered by Google that tracks and reports website traffic, currently as a platform inside the Google Marketing Platform brand.

## Authentication

Within the workflow builder, highlight the Google Analytics connector.

In the Google Analytics connector properties panel to the right of the builder, click on the Authenticate tab and the 'Add new authentication' button.

This will result in a Tray.io authentication pop-up modal. The first page will ask you to name your authentication and select the type of authentication you wish to create ('Personal' or 'Organisational').

The next page asks you to select your 'Service permissions'. All the permissions are by default selected. Feel free to remove any permissions of your choice by unchecking the checkbox available beside the specific permission.

Once you have selected the permissions of your choice, click the 'Create authentication' button.

Upon clicking 'Create authentication', you will be prompted to sign in to your Google Analytics account.

After you have logged in with your Google Analytics credentials, you will be asked to confirm the access you are granting to Tray.io. Once you have reviewed the permissions, click 'Allow access'.

Now, go back to your settings authentication field (within the workflow builder properties panel), and select the recently added authentication from the drop-down options now available.

Your connector authentication setup should now be complete.

## Available Operations

The examples below show one or two of the available connector operations in use.

Please see the [Full Operations Reference](#operationsFull) at the end of this page for details on all available operations for this connector.

## Example Usage

The workflow below shows how to run a basic Google Analytics report.

The steps involved are:

1. Setup using a manual trigger (note that it is likely that you would wish to use a [Scheduled Trigger](/connectors/triggers/scheduled-trigger/) and the [last runtime method](https://tray.io/documentation/platform/standard-best-practices/polling/polling-last-runtime/) to set the date range for your report).
2. Get web properties for the selected account.
3. Run an analytics report based on the specified criteria.

Your completed workflow should look similar to this:

### 1 - Setup Trigger & get web properties

Select the Manual trigger from the trigger options available. From the connectors panel on the left, add a Google Analytics connector to your workflow. Set the operation to 'List web properties'.

Select the 'Account ID'of your choice from the available drop-down options.

Feel free to re-name your steps as you go along to make things clearer for yourself and other users. The operation names themselves often suffice.

The List web properties operation will fetch the web properties for the selected account. These web properties will be used in the next step to generate the analytics report.

### 2 - Run report

Next, again add a Google Analytics connector into your workflow as your next step. Set your operations to 'Run report'.

In the properties panel, select the same 'Account ID' as in the previous step.

Use the connector-snake to find the jsonpath for the 'Property ID' field from the previous step. It should appear simillar to `$.steps.google-analytics-2.items[0].internalWebPropertyId`.

The 'Property ID' here represents an ID of a website, mobile application, or device for which you wish to generate the report. A particular account can have more than one property associated with it.

Simillarly, Use the connector-snake to find the jsonpath for the 'View' field from the previous step. It should appear simillar to `$.steps.google-analytics-2.items[0].defaultProfileId`.

To create a view, along with the view ID, you also need to provide a set of specifications to define the view. The specifications are provided based on the Dimensions and Metrics.

The Dimensions are attributes of your data. The Metrics represent quantitative measurements. To learn more about Dimensions and Metrics, refer to the Google Analytics documentation on [Dimensions & Metrics Explorer](https://ga-dev-tools.appspot.com/dimensions-metrics-explorer/#ga:dsAdGroup) To add Dimensions to the view, in the properties panel with the 'Run report' step highlighted, scroll down below the 'View' field. Click the 'Add to Dimensions' button. Select the 'Name' of the dimension from the available drop-down options.

You can add multiple dimensions based on your preference. In this example, we have selected the `Device Category (ga:deviceCategory)`. This dimension will provide the type of device that the user has used to visit a particular property for the selected account. The type of device could be desktop, tablet, or mobile.

Now, to select Metrics. On the same properties panel scroll down and click the 'Add to Metrics' button. Select the 'Expression' for the metrics from the available drop-down options.

You can add multiple metrics based on your preference. In this example, we have selected the `Users (ga:users)` and `New Users (ga:newUsers)` expressions.

The `Users (ga:users)` expression will provide us the total number of users who have visited the selected property for the requested time period.

The `New Users (ga:newUsers)` expression will provide the number of sessions marked as a user's first sessions.

Lastly, select the 'Date ranges' available on the same property panel below the 'Metrics' field. Here select the 'Start date' and the 'End date' defining the tenure you would like to generate the analytics report for.

A report that would be generated for the selected Account and Property combination would look simillar to this:

For more clarification on the pathways you have available, open the [Debug](/platform/troubleshooting/logs-and-debugging/) panel to view your step's Input and Output.

## Intermediate examples

### Take some basic actions

The following shows a slightly extended workflow which introduces some basic actions you could take with the results obtained from your report:

From the results produced by **Run report**, the following steps are taken:

1. The **Loop through dimensions** step uses a [Loop connector](/connectors/core/loop/) to loop through the rows of returned data with `$.steps.google-analytics-3.reports[0].data.rows`
2. The [branch connector](/connectors/core/branch/) step checks the result of `$.steps.loop-1.value.dimensions[0]` and sets a branch for each possible result - desktop, mobile or tablet
3. On each branch a [Data Storage](/connectors/core/data-storage/) 'Atomic Increment' operation is used to add 1 to the count for the appropriate key (**desktop +1**, **mobile +1** or **tablet +1**):

1. After looping through all results, the **Get desktop count** uses a [Data Storage](/connectors/core/data-storage/) **get value** operation to retrieve the count for 'desktop'
2. The **desktop > 50?** uses a [boolean connector](/connectors/core/boolean-condition/) to check if the desktop count is greater than 50
3. If true then **notify Slack channel** sends a simple "you have more than 50 desktop visits this week" message to a Slack channel of your choice

### Storing results in a database

A more realistic implementation would be to store the results of your reports in a database, using any one of our SQL database connectors. This would allow you to build a robust, scalable database that can be queried using the powerful SQL query language and other features available in the more powerful data warehouses, such as [Snowflake](/connectors/service/snowflake/), [BigQuery](/connectors/service/google-bigquery/) and [Redshift](/connectors/service/redshift/)

The following example shows looping through the above results and sending them to a table in [Redshift](/connectors/service/redshift/):
